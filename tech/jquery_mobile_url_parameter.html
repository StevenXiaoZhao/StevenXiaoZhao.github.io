<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta name="author" content="Luka Cvrk (cssMoban.com.com)" />
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="//cdn.sstatic.net/stackoverflow/all.css?v=b9a655c5d2b5">
	<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, projection" />
	<title>Steven Tech Blog</title>
	<script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.3.min.js"></script>
	<link href="prettify.css" type="text/css" rel="../js/google-code-prettify/stylesheet" />
	<script type="text/javascript" src="../js/google-code-prettify/run_prettify.js"></script>
	
	<script>
        $(document).ready(function(){
          $("header").load("_tech_header.html");
          $("#links").load("_tech_links.html");
        });
    </script>
</head>
<body id="home">
	<header>
	</header>
	<article>
		<div id="left">
			<h2>Jquery Mobile 页面跳转的参数传递</h2>
			<p>
					<p>
							有的时候我们需要客户端在页面传递的时候带一些参数，这些参数可以放在下一个页面的url中，这样，在下一个页面我们只需要解析url就可以取出这些参数了。
					</p>
					<p>
							一般网站的页面跳转是没有问题的，但是Jquery Mobile默认使用Ajax导航，如果是同一个html中的不同role-page跳转的话，previous page传递到url的参数将在下一个页面被去掉，所以要实现这个功能，需要加上参数 <mark> rel = "external" </mark>，下面是一个完整的例子，与Stack Overflow 略有不同
					</p>
					<p>
						<h6>JS</h6>
						<p>
<pre class="prettyprint">
<code>
$(document).on("pageinit","#page2",function(){
    alert('Page 2 - CID: ' + getParameterByName('cid'));
});

function getParameterByName(name) {
    var match = RegExp('[?&amp;]' + name + '=([^&amp;]*)').exec(window.location.search);
    return match &amp;&amp; decodeURIComponent(match[1].replace(/\+/g, ' '));
}
</code></pre>
						</p>
					</p>
					<p>
						<h6>HTML</h6>
						<p>
<pre class="prettyprint">
<code>&lt;div data-role="page" id="home"&gt;
    &lt;div data-role="content"&gt;
        &lt;ul data-role="listview" data-inset="true" data-theme="c" data-dividertheme="f"&gt;
            &lt;li data-role="list-divider"&gt;
                Home Page
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="?cid=1234#page2" rel="external"&gt;Page 2&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;!-- page 2 --&gt;
&lt;div data-role="page" id="page2"&gt;
    &lt;div data-role="content"&gt;
        &lt;ul data-role="listview" data-inset="true" data-theme="c" data-dividertheme="f"&gt;
            &lt;li data-role="list-divider"&gt;
                Page 2
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="?cid=4321#home"&gt;Home Page&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code>
</pre>
						</p>
					</p>
			</p>
		</div>
		<aside>
			<div id="links"></div>
			<div id="tagcloud">
				<p>
					<span style="font-size: 1.3em"><a href="#">Jquery Mobile</a></span>
					<span style="font-size: .9em"><a href="#">navigation</a></span>
					<span style="font-size: 1.6em"><a href="#">parameter</a></span>
					<span style="font-size: 1.4em"><a href="#">external</a></span>
				</p>
			</div>
		</aside>

		<footer>
			<p><strong>As A Learner</strong></p>
		</footer>
	</article>

</body>
</html>
